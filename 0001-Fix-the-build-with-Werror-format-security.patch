From 6beef154c59cc774f2419d8d7b4a27f27e735050 Mon Sep 17 00:00:00 2001
From: Kalev Lember <kalevlember@gmail.com>
Date: Sun, 27 Jul 2014 12:07:51 +0200
Subject: [PATCH] Fix the build with -Werror=format-security

---
 src/WarningService.vala | 2 +-
 src/util/Utils.vala     | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/WarningService.vala b/src/WarningService.vala
index 7fff537..5e13d12 100644
--- a/src/WarningService.vala
+++ b/src/WarningService.vala
@@ -36,7 +36,7 @@ class WarningService : IMessageReceiver, GLib.Object {
 
     var dialog = new Gtk.MessageDialog(null, Gtk.DialogFlags.DESTROY_WITH_PARENT,
                Gtk.MessageType.WARNING, Gtk.ButtonsType.OK,
-               message);
+               "%s", message);
 
     dialog.response.connect((id) => {
       if(id == Gtk.ResponseType.OK)
diff --git a/src/util/Utils.vala b/src/util/Utils.vala
index f2d397d..dfd1fd1 100644
--- a/src/util/Utils.vala
+++ b/src/util/Utils.vala
@@ -124,7 +124,7 @@ namespace Utils {
   void show_error_dialog (string message) {
     var dialog = new Gtk.MessageDialog (null, Gtk.DialogFlags.DESTROY_WITH_PARENT,
                                         Gtk.MessageType.ERROR, Gtk.ButtonsType.OK,
-                                        message);
+                                        "%s", message);
 
     dialog.response.connect((id) => {
       if(id == Gtk.ResponseType.OK)
-- 
2.0.1

